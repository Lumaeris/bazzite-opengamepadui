modules:
  - type: script
    scripts:
      - opengamepadui-session.sh

  - type: dnf
    install:
      packages:
        - opengamepadui-0.40.4-1.x86_64.rpm

  - type: files
    files:
      - source: system
        destination: /

  - type: script
    scripts:
      - install-packages.sh
    snippets:
      - "rm /usr/bin/steamos-session-select"
      - "cp /usr/bin/opengamepadui-session-select /usr/bin/steamos-session-select"

  - type: systemd
    system:
      enabled:
        - powerstation
        - inputplumber
        - inputplumber-suspend

  - type: signing
